<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>tmux: get more productive with a workflow to interact with the terminal and command line | GlacierZero</title>
<meta name=keywords content="terminal,cli,keyboard,productivity">
<meta name=description content="Tmux has 2 main functions:
 Creating, accessing and managing terminals from a single screen Detaching and reattaching to the session: it allows you to continue were you left  Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.
Why tmux tmux is a tool to organize yourself in your terminal:
 create and close windows names windows for easier organization split windows vertically and/or horizontally into panes as much as you want focus on some specific pane move around between windows and panes detach from a session and come back days later and continue everything were you left it share sessions between computers  Many of these things can be achieved with other tools, or combination of tools.">
<meta name=author content="Plácido Fernández Declara">
<link rel=canonical href=https://glacierzero.com/blog/tmux_workflow_nov21/>
<link href=/assets/css/stylesheet.min.7ecdd2a0bea01220d537dc996887b7b956c0bfd8880d1b1fb4bd7d93674ee44e.css integrity="sha256-fs3SoL6gEiDVN9yZaIe3uVbAv9iIDRsftL19k2dO5E4=" rel="preload stylesheet" as=style>
<link rel=icon href=https://glacierzero.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://glacierzero.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://glacierzero.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://glacierzero.com/apple-touch-icon.png>
<link rel=mask-icon href=https://glacierzero.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.2">
<meta property="og:title" content="tmux: get more productive with a workflow to interact with the terminal and command line">
<meta property="og:description" content="Tmux has 2 main functions:
 Creating, accessing and managing terminals from a single screen Detaching and reattaching to the session: it allows you to continue were you left  Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.
Why tmux tmux is a tool to organize yourself in your terminal:
 create and close windows names windows for easier organization split windows vertically and/or horizontally into panes as much as you want focus on some specific pane move around between windows and panes detach from a session and come back days later and continue everything were you left it share sessions between computers  Many of these things can be achieved with other tools, or combination of tools.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://glacierzero.com/blog/tmux_workflow_nov21/"><meta property="og:image" content="https://glacierzero.com/blog/img/tmux-9vQG6v1md1s.jpg"><meta property="article:section" content="blog">
<meta property="article:published_time" content="2021-11-24T00:00:00+00:00">
<meta property="article:modified_time" content="2021-11-24T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://glacierzero.com/blog/img/tmux-9vQG6v1md1s.jpg">
<meta name=twitter:title content="tmux: get more productive with a workflow to interact with the terminal and command line">
<meta name=twitter:description content="Tmux has 2 main functions:
 Creating, accessing and managing terminals from a single screen Detaching and reattaching to the session: it allows you to continue were you left  Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.
Why tmux tmux is a tool to organize yourself in your terminal:
 create and close windows names windows for easier organization split windows vertically and/or horizontally into panes as much as you want focus on some specific pane move around between windows and panes detach from a session and come back days later and continue everything were you left it share sessions between computers  Many of these things can be achieved with other tools, or combination of tools.">
<meta name=twitter:site content="@glacierzero">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://glacierzero.com/blog/"},{"@type":"ListItem","position":3,"name":"tmux: get more productive with a workflow to interact with the terminal and command line","item":"https://glacierzero.com/blog/tmux_workflow_nov21/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"tmux: get more productive with a workflow to interact with the terminal and command line","name":"tmux: get more productive with a workflow to interact with the terminal and command line","description":"Tmux has 2 main functions:\n Creating, accessing and managing terminals from a single screen Detaching and reattaching to the session: it allows you to continue were you left  Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.\nWhy tmux tmux is a tool to organize yourself in your terminal:\n create and close windows names windows for easier organization split windows vertically and/or horizontally into panes as much as you want focus on some specific pane move around between windows and panes detach from a session and come back days later and continue everything were you left it share sessions between computers  Many of these things can be achieved with other tools, or combination of tools.","keywords":["terminal","cli","keyboard","productivity"],"articleBody":"Tmux has 2 main functions:\n Creating, accessing and managing terminals from a single screen Detaching and reattaching to the session: it allows you to continue were you left  Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.\nWhy tmux tmux is a tool to organize yourself in your terminal:\n create and close windows names windows for easier organization split windows vertically and/or horizontally into panes as much as you want focus on some specific pane move around between windows and panes detach from a session and come back days later and continue everything were you left it share sessions between computers  Many of these things can be achieved with other tools, or combination of tools. Some terminals can split windows, in other you can open as many tabs or windows you want, other tools allow you to resume your work after closing a terminal.\nBut tmux is a central place to do all this, it is indepent from the application you use to access a terminal, and you can use it in remote servers to keep using your workflow. One only needs to learn the shortcuts, which work around a prefix key followed by some other key or keys: ctrl + b by default.\nWith it I can open any number of files in my text editor of choice, arranged in splits or windows however I prefer. I can be compiling some big project in one windows, then switch to other window to start a web server while the other window is compiling, then jump to a window with two files opened split vertically to compare them. And at the end of the day I can just detach, and continue were I left the day after: same arrangement, windows.\nLong running tasks like compilation or tests may be left running in background without a remote session being killed for inactivity.\nSessions Sessions allow to manage groups of windows, one can connect and disconnect from these, like changing projects or workspaces. I almost never use more than one session: I just connect and work with the same session.\n# Create new named session tmux new -s # attach to named session tmux a -t  tmux attach -t  # detach from session prefix + d # attach to last used session tmux a Whenever I start a terminal I automatically connect to it through my .bashrc file with the following:\n####################################################### # Load tmux on first terminal ####################################################### # 1. check existance of tmux command # 2. check for interactive shell (PS1) # 3. Avoid tmux (and screen) running within itself if command -v tmux \u0026 /dev/null \u0026\u0026 [ -n \"$PS1\" ] \u0026\u0026 [[ ! \"$TERM\" =~ screen ]] \u0026\u0026 [[ ! \"$TERM\" =~ tmux ]] \u0026\u0026 [ -z \"$TMUX\" ]; then # with exec command, on exiting tmux the terminal is closed # also with exec, on opening a second window no duplicate session is catched # on this config, new window can be run from the terminal `st -t \"name\"` # exec tmux new -s server # alternatively just run tmux (but duplicate session detected) tmux new -s server fi Windows Tmux windows are equivalent to tabs in web browsers, it allows you to open multiple command line prompts. Each window can hold multiple panes, but can also be used without them.\nThere are different ways of switching between windows:\n With prefix + 0...9: input the number assigned to the window  Limited to 10 windows, since only one digit is used to change between them   With prefix + ', then input the number  Takes an extra step, but allows to enter any number even if more than one digit is used   With prefix + w: shows a list of windows and preview of each window panes (numbered panes)  This option gives the most info at a glance, and allows for intuitive switching with arrow keys (or vim-style keys hjkl) Sub panes can also be accessed with arrow keys for a fine-grained selection of prompt    # create new window prefix + c # switch to window prefix + 0 ... 9 ### switch inputing number prefix + `  ### switch showing list prefix + w # cycle through windows prefix + n prefix + p # rename window prefix + , # kill window prefix + \u0026 Panes  Panes can be used to display multiple terminals in the same window. Side by side terminals or complex configurations can be used here by splitting the window vertically and horizontally Panes can be zoomed in, so one focuses for a moment on it, then goes back to seeing all the panes together Panes can also be resized to give more space to some specific terminal  # split horizontal - omit last \" symbol prefix + \" \" # split vertical prefix + % # move to panel prefix + # cycle through panels prefix + o # kill current panel prefix + x # resize panels prefix + alt +  # zoom current pane prefix + z # Balance size panels vertically prefix + Alt + 2 # Balance size panels horizontally prefix + Alt + 1 ","wordCount":"879","inLanguage":"en","datePublished":"2021-11-24T00:00:00Z","dateModified":"2021-11-24T00:00:00Z","author":{"@type":"Person","name":"Plácido Fernández Declara"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://glacierzero.com/blog/tmux_workflow_nov21/"},"publisher":{"@type":"Organization","name":"GlacierZero","logo":{"@type":"ImageObject","url":"https://glacierzero.com/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://glacierzero.com accesskey=h title="GlacierZero (Alt + H)">GlacierZero</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://glacierzero.com/about/ title=About>
<span>About</span>
</a>
</li>
<li>
<a href=https://glacierzero.com/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://glacierzero.com/archive/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://glacierzero.com/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs>
<a href=https://glacierzero.com>Home</a>&nbsp;»&nbsp;<a href=https://glacierzero.com/blog/>Blogs</a>
</div>
<h1 class=post-title>
tmux: get more productive with a workflow to interact with the terminal and command line
</h1>
<div class=post-meta>
24 November 2021&nbsp;·&nbsp;Plácido Fernández Declara
</div>
</header>
<div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul><li>
<a href=#why-tmux aria-label="Why tmux">Why tmux</a></li><li>
<a href=#sessions aria-label=Sessions>Sessions</a></li><li>
<a href=#windows aria-label=Windows>Windows</a></li><li>
<a href=#panes aria-label=Panes>Panes</a></li></ul>
</div>
</details>
</div>
<div class=post-content>
<p><a href=https://github.com/tmux/tmux>Tmux</a> has 2 main functions:</p>
<ol>
<li>Creating, accessing and managing terminals from a single screen</li>
<li>Detaching and reattaching to the session: it allows you to continue were you left</li>
</ol>
<p>Here I share the workflow I use everyday at work and my personal computer, explaining with it what I believe are the core features of tmux.</p>
<h2 id=why-tmux>Why tmux<a hidden class=anchor aria-hidden=true href=#why-tmux>#</a></h2>
<p><code>tmux</code> is a tool to organize yourself in your terminal:</p>
<ul>
<li>create and close windows</li>
<li>names windows for easier organization</li>
<li>split windows vertically and/or horizontally into panes as much as you want</li>
<li>focus on some specific pane</li>
<li>move around between windows and panes</li>
<li>detach from a session and come back days later and continue everything were you left it</li>
<li>share sessions between computers</li>
</ul>
<p>Many of these things can be achieved with other tools, or combination of tools. Some terminals can split windows, in other you can open as many tabs or windows you want, other tools allow you to resume your work after closing a terminal.</p>
<p>But <code>tmux</code> is a central place to do all this, it is indepent from the application you use to access a terminal, and you can use it in remote servers to keep using your workflow. One only needs to learn the shortcuts, which work around a prefix key followed by some other key or keys: <code>ctrl + b</code> by default.</p>
<p>With it I can open any number of files in my text editor of choice, arranged in splits or windows however I prefer. I can be compiling some big project in one windows, then switch to other window to start a web server while the other window is compiling, then jump to a window with two files opened split vertically to compare them. And at the end of the day I can just detach, and continue were I left the day after: same arrangement, windows.</p>
<p>Long running tasks like compilation or tests may be left running in background without a remote session being killed for inactivity.</p>
<h2 id=sessions>Sessions<a hidden class=anchor aria-hidden=true href=#sessions>#</a></h2>
<p>Sessions allow to manage groups of windows, one can connect and disconnect from these, like changing projects or workspaces. I almost never use more than one session: I just connect and work with the same session.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># Create new named session</span>
tmux new -s &lt;session name&gt;

<span style=color:#75715e># attach to named session</span>
tmux a -t &lt;name&gt;
tmux attach -t &lt;name&gt;

<span style=color:#75715e># detach from session</span>
prefix + d

<span style=color:#75715e># attach to last used session</span>
tmux a
</code></pre></div><p>Whenever I start a terminal I automatically connect to it through my <code>.bashrc</code> file with the following:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e>#######################################################</span>
<span style=color:#75715e># Load tmux on first terminal</span>
<span style=color:#75715e>#######################################################</span>
<span style=color:#75715e># 1. check existance of tmux command</span>
<span style=color:#75715e># 2. check for interactive shell (PS1)</span>
<span style=color:#75715e># 3. Avoid tmux (and screen) running within itself</span>
<span style=color:#66d9ef>if</span> command -v tmux &amp;&gt; /dev/null <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> -n <span style=color:#e6db74>&#34;</span>$PS1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[[</span> ! <span style=color:#e6db74>&#34;</span>$TERM<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span>~ screen <span style=color:#f92672>]]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[[</span> ! <span style=color:#e6db74>&#34;</span>$TERM<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span>~ tmux <span style=color:#f92672>]]</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>[</span> -z <span style=color:#e6db74>&#34;</span>$TMUX<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
  <span style=color:#75715e># with exec command, on exiting tmux the terminal is closed</span>
  <span style=color:#75715e># also with exec, on opening a second window no duplicate session is catched</span>
  <span style=color:#75715e># on this config, new window can be run from the terminal `st -t &#34;name&#34;`</span>
  <span style=color:#75715e># exec tmux new -s server</span>

  <span style=color:#75715e># alternatively just run tmux (but duplicate session detected)</span>
  tmux new -s server

<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=windows>Windows<a hidden class=anchor aria-hidden=true href=#windows>#</a></h2>
<p>Tmux windows are equivalent to tabs in web browsers, it allows you to open multiple command line prompts. Each window can hold multiple <a href=#panes>panes</a>, but can also be used without them.</p>
<p>There are different ways of switching between windows:</p>
<ul>
<li>With <code>prefix + 0...9</code>: input the number assigned to the window
<ul>
<li>Limited to 10 windows, since only one digit is used to change between them</li>
</ul>
</li>
<li>With <code>prefix + '</code>, then input the number
<ul>
<li>Takes an extra step, but allows to enter any number even if more than one digit is used</li>
</ul>
</li>
<li>With <code>prefix + w</code>: shows a list of windows and preview of each window panes (numbered panes)
<ul>
<li>This option gives the most info at a glance, and allows for intuitive switching with arrow keys (or vim-style keys <code>hjkl</code>)</li>
<li>Sub panes can also be accessed with arrow keys for a fine-grained selection of prompt</li>
</ul>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># create new window</span>
prefix + c

<span style=color:#75715e># switch to window</span>
prefix + <span style=color:#ae81ff>0</span> ... <span style=color:#ae81ff>9</span>
<span style=color:#75715e>### switch inputing number</span>
prefix + <span style=color:#e6db74>`</span>
&lt;number&gt;
<span style=color:#75715e>### switch showing list</span>
prefix + w

<span style=color:#75715e># cycle through windows</span>
prefix + n
prefix + p

<span style=color:#75715e># rename window</span>
prefix + ,

<span style=color:#75715e># kill window</span>
prefix + &amp;
</code></pre></div><h2 id=panes>Panes<a hidden class=anchor aria-hidden=true href=#panes>#</a></h2>
<ul>
<li>Panes can be used to display multiple terminals in the same window. Side by side terminals or complex configurations can be used here by splitting the window vertically and horizontally</li>
<li>Panes can be zoomed in, so one focuses for a moment on it, then goes back to seeing all the panes together</li>
<li>Panes can also be resized to give more space to some specific terminal</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># split horizontal - omit last &#34; symbol</span>
prefix + <span style=color:#e6db74>&#34;                                     &#34;</span>

<span style=color:#75715e># split vertical</span>
prefix + %

<span style=color:#75715e># move to panel</span>
prefix + &lt;arrow key&gt;

<span style=color:#75715e># cycle through panels</span>
prefix + o

<span style=color:#75715e># kill current panel</span>
prefix + x

<span style=color:#75715e># resize panels</span>
prefix + alt + &lt;arrow&gt;

<span style=color:#75715e># zoom current pane</span>
prefix + z

<span style=color:#75715e># Balance size panels vertically</span>
prefix + Alt + <span style=color:#ae81ff>2</span>

<span style=color:#75715e># Balance size panels horizontally</span>
prefix + Alt + <span style=color:#ae81ff>1</span>
</code></pre></div>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://glacierzero.com/tags/terminal/>terminal</a></li>
<li><a href=https://glacierzero.com/tags/cli/>cli</a></li>
<li><a href=https://glacierzero.com/tags/keyboard/>keyboard</a></li>
<li><a href=https://glacierzero.com/tags/productivity/>productivity</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://glacierzero.com/blog/github_usage_dec21/>
<span class=title>« Prev Page</span>
<br>
<span>Github keyboard shortcuts to move around faster and productively</span>
</a>
</nav>
</footer>
<div id=disqus_thread></div>
<script>var disqus_config=function(){this.page.url="https://glacierzero.com/blog/tmux_workflow_nov21/",this.page.identifier="https://glacierzero.com/blog/tmux_workflow_nov21/"};(function(){var a=document,b=a.createElement('script');b.src='https://glacierzero.disqus.com/embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</article>
</main><footer class=footer>
<span>&copy; 2022 <a href=https://glacierzero.com>GlacierZero</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>